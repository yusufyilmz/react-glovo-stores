{"version":3,"sources":["containers/storeContainer.js"],"names":["searchTimeout","StoreContainer","state","filterHandleChange","text","type","_this","setState","undefined","clearTimeout","setTimeout","props","filterStores","fetchStore","this","categories","length","stores","error","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","react_router_dom__WEBPACK_IMPORTED_MODULE_7__","to","children","getStateAndHelpers","Component","connect","store","items","category"],"mappings":"oGAKIA,kFAEEC,6MAEFC,MAAQ,KASRC,mBAAqB,SAACC,EAAMC,GACxBC,EAAKC,SAAS,CAAEH,QAAQ,gBACEI,IAAlBR,GAA6BS,aAAaT,GAC9CA,EAAgBU,WAAW,WACnBN,EACAE,EAAKK,MAAMC,aAAaR,EAAMC,GAG9BC,EAAKK,MAAME,WAAWP,EAAKK,MAAMN,OAEtC,2FAfHS,KAAKH,MAAMI,WAAWC,OAAS,GAC/BF,KAAKH,MAAME,WAAWC,KAAKH,MAAMN,mDAmBrC,MAAO,CACHY,OAAQH,KAAKH,MAAMM,OACnBd,mBAAoBW,KAAKX,mBACzBe,MAAOJ,KAAKH,MAAMO,wCAMtB,OAAqC,IAAjCJ,KAAKH,MAAMI,WAAWC,OACfG,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUC,GAAE,cAGhBT,KAAKH,MAAMa,SAASV,KAAKW,6BAvCXC,aAiDdC,sBANS,SAAAzB,GAAK,MAAK,CAC9Be,OAAQf,EAAM0B,MAAMC,MACpBd,WAAYb,EAAM4B,SAASD,MAC3BX,MAAOhB,EAAM0B,MAAMV,QAGiB,CAAEL,eAAYD,kBAAvCe,CAAuD1B","file":"static/js/6.ac42d3a8.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom'\nimport { fetchStore, filterStores } from '../actions';\n\nlet searchTimeout;\n\nclass StoreContainer extends Component {\n\n    state = {\n    }\n\n    componentDidMount() {\n        if (this.props.categories.length > 0) {\n            this.props.fetchStore(this.props.type);\n        }\n    }\n\n    filterHandleChange = (text, type) => {\n        this.setState({ text }, () => {\n            if (searchTimeout !== undefined) clearTimeout(searchTimeout);\n            searchTimeout = setTimeout(() => {\n                if (text) {\n                    this.props.filterStores(text, type);\n                }\n                else {\n                    this.props.fetchStore(this.props.type);\n                }\n            }, 400);\n        });\n    }\n\n    getStateAndHelpers() {\n        return {\n            stores: this.props.stores,\n            filterHandleChange: this.filterHandleChange,\n            error: this.props.error\n        };\n    }\n\n    render() {\n\n        if (this.props.categories.length === 0) {\n            return <Redirect to={`/category`} />\n        }\n\n        return this.props.children(this.getStateAndHelpers());\n    }\n}\n\nconst mapStateToProps = state => ({\n    stores: state.store.items,\n    categories: state.category.items,\n    error: state.store.error\n});\n\nexport default connect(mapStateToProps, { fetchStore, filterStores })(StoreContainer);\n"],"sourceRoot":""}